// 문제링크: https://school.programmers.co.kr/learn/courses/30/lessons/17684
// 시작날짜: 2023.10.07
// 시작시간: 14:50
// 종료시간: 16:00
// 소요시간: 01:10

// function solution(msg) {
//   const alpabetEntries = [..."ABCDEFGHIJKLMNOPQRSTUVWXYZ"].map((v, i) => [
//     v,
//     i + 1,
//   ]);
//   const dict = new Map(alpabetEntries);
//   const result = [];

//   let i = 0;
//   while (i < msg.length) {
//     let buffer = "";
//     let noCnt = 0;

//     // 없는거 나올때까지 for문 돌림
//     for (let j = i; j < msg.length; j++) {
//       buffer += msg[j];
//       if (!dict.get(buffer)) {
//         dict.set(buffer, dict.size + 1);
//         break;
//       }
//       noCnt++;
//     }

//     i += noCnt;

//     if (i === msg.length) {
//       result.push(dict.get(buffer));
//     } else {
//       result.push(dict.get(buffer.slice(0, -1)));
//     }
//   }

//   return result;
// }
function solution(msg) {
  const alpabetEntries = [..."ABCDEFGHIJKLMNOPQRSTUVWXYZ"].map((v, i) => [
    v,
    i + 1,
  ]);
  const dict = new Map(alpabetEntries);
  const result = [];

  let i = 0;
  let buffer = "";
  while (i < msg.length) {
    buffer += msg[i];

    if (dict.get(buffer)) {
      i++;
      continue;
    }
    dict.set(buffer, dict.size + 1);
    result.push(dict.get(buffer.slice(0, -1)));
    buffer = "";
  }

  result.push(dict.get(buffer));

  return result;
}

console.log(solution("KAKAO"));
// [20,8,1,20,27,29,9,19,33,31,30,28,20,33,14,15,39,19,41,43,36,9,39,46,38,47,34,19,36,52,45,40,42,35,38,48,62,54,51,61,53,55,66,57,44,59,64,32,49,60,29,52,76,37,32,71,43,70,47,75,73,80,43,79,56,72,84,61,86,68,81,90,69,92,72,85,63,96,89,87,91,83,101,94,103,65,97,106,99,108,50,74,111,77,66,98,81,70,93,118,117,88,33,122,116,58,127,62,127,78,114,123,100,133,95,112,105,104,132,145,87,134,130,129,137,131,82,79,148,151,150,144,153,159,102,135,121,156,159,125,75,162,113,158,124,109,126,149,67,142,146,166,155,158,174,171,140,119,128,175,120,138,152,161,174,181,139,154,141,187,143,176,165,172,167,191,164,182,194,184,136,170,193,147,75,19]이 기댓값
// [20,8,1,20,27,29,9,19,33,31,30,28,20,33,14,15,39,19,41,43,36,9,39,46,38,47,34,19,36,52,45,40,42,35,38,48,62,54,51,61,53,55,66,57,44,59,64,32,49,60,29,52,76,37,32,71,43,70,47,75,73,80,43,79,56,72,84,61,86,68,81,90,69,92,72,85,63,96,89,87,91,83,101,94,103,65,97,106,99,108,50,74,111,77,66,98,81,70,93,118,117,88,33,122,116,58,127,62,127,78,114,123,100,133,95,112,105,104,132,145,87,134,130,129,137,131,82,79,148,151,150,144,153,159,102,135,121,156,159,125,75,162,113,158,124,109,126,149,67,142,146,166,155,158,174,171,140,119,128,175,120,138,152,161,174,181,139,154,141,187,143,176,165,172,167,191,164,182,194,184,136,170,193,147,86]과 다릅니다.
